document.addEventListener("DOMContentLoaded",(function(){const e={nombre:"",email:"",telefono:"",mensaje:""},t=document.querySelector("#nombre"),n=document.querySelector("#email"),r=document.querySelector("#telefono"),o=document.querySelector("#mensaje"),a=document.querySelector("#formulario"),d=document.querySelector('#formulario button[type="submit"]'),i=document.querySelector('#formulario button[type="reset"]'),l=document.querySelector("#spinner");function s(t){return""===t.target.value.trim()?(u(`El campo ${t.target.id} es obligatorio`,t.target.parentElement),e[t.target.name]="",void m()):"email"!==t.target.id||(n=t.target.value,/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(n))?"telefono"!==t.target.id||(r=t.target.value,/^(?:(?:00)?549?)?0?(?:11|[2368]\d)(?:(?=\d{0,2}15)\d{2})??\d{8}$/.test(r))?(c(t.target.parentElement),e[t.target.name]=t.target.value.trim().toLowerCase(),void m()):(u("El telefono es incorrecto",t.target.parentElement),void(e[t.target.name]="")):(u("El email no es valido",t.target.parentElement),void(e[t.target.name]=""));var n,r}function u(e,t){c(t);const n=document.createElement("P");n.classList.add("text-white","bg-danger","p-3","rounded","mt-3"),n.textContent=e,t.appendChild(n)}function c(e){const t=e.querySelector(".bg-danger");t&&t.remove()}function m(){if(Object.values(e).includes(""))return d.classList.add("opacity-25"),void(d.disabled=!0);d.classList.remove("opacity-25"),d.disabled=!1}function v(){e.nombre="",e.email="",e.telefono="",e.mensaje="",a.reset(),m()}t.addEventListener("input",s),n.addEventListener("input",s),r.addEventListener("input",s),o.addEventListener("input",s),a.addEventListener("submit",(function(e){e.preventDefault(),l.classList.remove("visually-hidden"),setTimeout(()=>{l.classList.add("visually-hidden"),v();const e=document.createElement("P");e.classList.add("text-center","text-white","bg-success","p-3","text-uppercase","rounded","mt-3"),e.textContent="Mensaje enviado correctamente",a.appendChild(e),setInterval(()=>{e.remove()},3e3)},3e3)})),i.addEventListener("click",(function(e){e.preventDefault(),v()}))}));